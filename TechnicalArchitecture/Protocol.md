---
description: >-
  该开源协议是使用CosmosSDK并且建立在CometBFT之上的 L1 区块链。节点用 Go 编写，并编译为单个二进制文件。与所有 CosmosSDK
  区块链一样，sofa 使用权益证明共识机制。
---

# 协议

## 🧱 节点

该协议由节点网络提供支持目前有下面两种类型的节点：

* **验证者**：验证者负责将订单存储在内存订单簿中（即链下且不承诺达成共识），向其他验证者传播交易，并通过共识流程为 sofa 链生成新区块。共识流程将让验证者以加权循环方式轮流担任新区块的提议者（按其节点质押的代币数量加权）。提议者负责提议下一个区块的内容。当订单匹配时，提议者将其添加到其提议的区块中并启动共识轮次。如果 ⅔ 或更多的验证者（按质押权重）批准某个区块，则该区块被视为已提交并添加到区块链中。用户将直接向验证者提交交易。
* **全节点**：全节点代表运行 sofa开源应用程序但不参与共识的进程。它是一个具有 0 权益权重的节点，它不提交提案或对其进行投票。但是，全节点连接到验证器网络，参与交易的传播，并处理每个新提交的区块。全节点可以完整查看 sofa 及其历史记录，并旨在支持索引器。一些当事方可能会决定（出于性能或成本原因）运行自己的全节点和/或索引器。
